<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Python for Java Developers: FizzBuzz | frublox blog</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Python for Java Developers: FizzBuzz" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The dreaded moment has come. You have made it this far, and now it is time to face the trial. The young man sitting before you has just finished scrawling out an infamous problem on the conference room whiteboard – a trial of iteration and divisibility. This would confound the rookie programmer, but you have a wealth of such victories under your belt." />
<meta property="og:description" content="The dreaded moment has come. You have made it this far, and now it is time to face the trial. The young man sitting before you has just finished scrawling out an infamous problem on the conference room whiteboard – a trial of iteration and divisibility. This would confound the rookie programmer, but you have a wealth of such victories under your belt." />
<link rel="canonical" href="http://localhost:4000/blog/programming/python/2019/05/28/python-for-java-developers-fizz-buzz.html" />
<meta property="og:url" content="http://localhost:4000/blog/programming/python/2019/05/28/python-for-java-developers-fizz-buzz.html" />
<meta property="og:site_name" content="frublox blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-05-28T06:30:00-04:00" />
<script type="application/ld+json">
{"headline":"Python for Java Developers: FizzBuzz","url":"http://localhost:4000/blog/programming/python/2019/05/28/python-for-java-developers-fizz-buzz.html","datePublished":"2019-05-28T06:30:00-04:00","dateModified":"2019-05-28T06:30:00-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/programming/python/2019/05/28/python-for-java-developers-fizz-buzz.html"},"description":"The dreaded moment has come. You have made it this far, and now it is time to face the trial. The young man sitting before you has just finished scrawling out an infamous problem on the conference room whiteboard – a trial of iteration and divisibility. This would confound the rookie programmer, but you have a wealth of such victories under your belt.","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/blog/feed.xml" title="frublox blog" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog/">frublox blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Python for Java Developers: FizzBuzz</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-05-28T06:30:00-04:00" itemprop="datePublished">May 28, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>The dreaded moment has come. You have made it this far, and now it is time to face the trial. The young man sitting before you has just finished scrawling out an infamous problem on the conference room whiteboard – a trial of iteration and divisibility. This would confound the rookie programmer, but you have a wealth of such victories under your belt.</p>

<p>There is just one problem.</p>

<p>You are a Java programmer by nature; it is the very air you breathe and caffeine you drink. But the age of Java has begun to wane, and your old employment is no more. You must do what you can to survive, and this means you must adapt. This is a Python shop.</p>

<p>You stare blankly at IDLE, taking in the strange orange keywords. A twinge of nostalgia for the off-purple of Eclipse hits you, but you are interrupted by the interviewer.</p>

<p>“Um, are you ready to get started?”</p>

<p>His tone is polite, but you must not let down your guard.</p>

<p>“Yes, yes…”</p>

<p>You reply, but do not take your eyes off the screen.</p>

<p>“Uh, don’t worry about this too much. We just want to get a sense for how you solve problems with Python.”</p>

<p>You take a deep, final breath. You are ready.</p>

<p>Your fingers trained well from years of writing classes and imports by hand, you quickly develop a suitable framework.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span>
    <span class="n">main</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code></pre></figure>

<p>You feel slightly comforted at the sight of your work. But it is short-lived, for now comes the difficult part.</p>

<p>Your father was a Java programmer, and imparted much wisdom to you before his retirement. He warned against the serpent’s classes. You recall one saying of his in particular:</p>

<p>“Should you find yourself stranded in a foreign land, carve out a home for yourself.”</p>

<p>You remember a familiar sequence of bytes.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="mh">0xca</span><span class="p">,</span> <span class="mh">0xfe</span><span class="p">,</span> <span class="mh">0xba</span><span class="p">,</span> <span class="mh">0xbe</span>  <span class="c1"># magic</span></code></pre></figure>

<p>Your heart warms thinking of the youthful days spent poring over the Java Virtual Machine specification, but you must not dawdle. The interviewer is waiting, and you must deliver him nothing but the best.</p>

<p>“Now comes the version…” You mutter, typing away.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span>  <span class="c1"># minor
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x31</span><span class="p">,</span>  <span class="c1"># major</span></code></pre></figure>

<p>Of course, no class is complete without constants. You reckon 24 ought to be enough for the job.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x19</span><span class="p">,</span>             <span class="c1"># constant_pool_count: 25 (24 constants)</span></code></pre></figure>

<p>“Now, let’s have some Strings and our class…” The interviewer appears somewhat concerned at your mumbling, but is nevertheless silent.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># CONSTANT POOL START
# 0x01
</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 4 chars
</span><span class="mh">0x46</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="c1"># "Fizz"
# 0x02
</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 4 chars
</span><span class="mh">0x42</span><span class="p">,</span> <span class="mh">0x75</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="c1"># "Buzz"
# 0x03
</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x08</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 8 chars
</span><span class="mh">0x46</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="c1"># "Fizz"
</span><span class="mh">0x42</span><span class="p">,</span> <span class="mh">0x75</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="c1"># "Buzz"
# 0x04
</span><span class="mh">0x07</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x03</span><span class="p">,</span>       <span class="c1"># class "FizzBuzz"</span></code></pre></figure>

<p>“Ah, right. We’ll certainly need some code.”</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># 0x05
</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 4 chars
</span><span class="mh">0x43</span><span class="p">,</span> <span class="mh">0x6f</span><span class="p">,</span> <span class="mh">0x64</span><span class="p">,</span> <span class="mh">0x65</span><span class="p">,</span> <span class="c1"># "Code"</span></code></pre></figure>

<p>“And our dear friend System…”</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># 0x06
</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x10</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 16 chars
</span><span class="mh">0x6a</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x76</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="c1"># "java"
</span><span class="mh">0x2f</span><span class="p">,</span> <span class="mh">0x6c</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x6e</span><span class="p">,</span> <span class="c1"># "/lan"
</span><span class="mh">0x67</span><span class="p">,</span> <span class="mh">0x2f</span><span class="p">,</span> <span class="mh">0x53</span><span class="p">,</span> <span class="mh">0x79</span><span class="p">,</span> <span class="c1"># "g/Sy"
</span><span class="mh">0x73</span><span class="p">,</span> <span class="mh">0x74</span><span class="p">,</span> <span class="mh">0x65</span><span class="p">,</span> <span class="mh">0x6d</span><span class="p">,</span> <span class="c1"># "stem"
# 0x07
</span><span class="mh">0x07</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x06</span><span class="p">,</span>       <span class="c1"># class "java/lang/System"</span></code></pre></figure>

<p>“… to get at the standard output, of course.” The bytes are coming naturally now. Like any respectable Java programmer, you know the class file format better than your own apartment.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># 0x08
</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x03</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 3 chars
</span><span class="mh">0x6f</span><span class="p">,</span> <span class="mh">0x75</span><span class="p">,</span> <span class="mh">0x74</span><span class="p">,</span>       <span class="c1"># "out"
# 0x09
</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x15</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 21 chars
</span><span class="mh">0x4c</span><span class="p">,</span> <span class="mh">0x6a</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x76</span><span class="p">,</span> <span class="c1"># "Ljav"
</span><span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x2f</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="mh">0x6f</span><span class="p">,</span> <span class="c1"># "a/io"
</span><span class="mh">0x2f</span><span class="p">,</span> <span class="mh">0x50</span><span class="p">,</span> <span class="mh">0x72</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="c1"># "/Pri"
</span><span class="mh">0x6e</span><span class="p">,</span> <span class="mh">0x74</span><span class="p">,</span> <span class="mh">0x53</span><span class="p">,</span> <span class="mh">0x74</span><span class="p">,</span> <span class="c1"># "ntSt"
</span><span class="mh">0x72</span><span class="p">,</span> <span class="mh">0x65</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x6d</span><span class="p">,</span> <span class="c1"># "ream"
</span><span class="mh">0x3b</span><span class="p">,</span>                   <span class="c1"># ";"
# 0x0a
</span><span class="mh">0x0c</span><span class="p">,</span>                   <span class="c1"># name and type
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x08</span><span class="p">,</span>             <span class="c1"># name_index: 8 ("out")
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x09</span><span class="p">,</span>             <span class="c1"># descriptor_index: 9 ("Ljava/io/PrintStream;")
# 0x0b
</span><span class="mh">0x09</span><span class="p">,</span>                   <span class="c1"># field reference
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x07</span><span class="p">,</span>             <span class="c1"># java/lang/System class
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0a</span><span class="p">,</span>             <span class="c1"># name and type index</span></code></pre></figure>

<p>“We’ll certainly need to print, so…”</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># 0x0c
</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x07</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 7 chars
</span><span class="mh">0x70</span><span class="p">,</span> <span class="mh">0x72</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="mh">0x6e</span><span class="p">,</span> <span class="c1"># "prin"
</span><span class="mh">0x74</span><span class="p">,</span> <span class="mh">0x6c</span><span class="p">,</span> <span class="mh">0x6e</span><span class="p">,</span>       <span class="c1"># "tln"
# 0x0d
</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x15</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 21 chars
</span><span class="mh">0x28</span><span class="p">,</span> <span class="mh">0x4c</span><span class="p">,</span> <span class="mh">0x6a</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="c1"># "(Lja"
</span><span class="mh">0x76</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x2f</span><span class="p">,</span> <span class="mh">0x6c</span><span class="p">,</span> <span class="c1"># "va/l"
</span><span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x6e</span><span class="p">,</span> <span class="mh">0x67</span><span class="p">,</span> <span class="mh">0x2f</span><span class="p">,</span> <span class="c1"># "ang/"
</span><span class="mh">0x53</span><span class="p">,</span> <span class="mh">0x74</span><span class="p">,</span> <span class="mh">0x72</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="c1"># "Stri"
</span><span class="mh">0x6e</span><span class="p">,</span> <span class="mh">0x67</span><span class="p">,</span> <span class="mh">0x3b</span><span class="p">,</span> <span class="mh">0x29</span><span class="p">,</span> <span class="c1"># "ng;)"
</span><span class="mh">0x56</span><span class="p">,</span>                   <span class="c1"># "V"
# 0x0e
</span><span class="mh">0x0c</span><span class="p">,</span>                   <span class="c1"># name and type
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0c</span><span class="p">,</span>             <span class="c1"># name_index: 12 ("println")
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0d</span><span class="p">,</span>             <span class="c1"># descriptor_index: 13 ("(Ljava/lang/String;)V")</span></code></pre></figure>

<p>“Ah, right. Can’t forget printing integers, too.”</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># 0x0f
</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 4 chars
</span><span class="mh">0x28</span><span class="p">,</span> <span class="mh">0x49</span><span class="p">,</span> <span class="mh">0x29</span><span class="p">,</span> <span class="mh">0x56</span><span class="p">,</span> <span class="c1"># "(I)V"
# 0x10
</span><span class="mh">0x0c</span><span class="p">,</span>                   <span class="c1"># name and type
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0c</span><span class="p">,</span>             <span class="c1"># name_index: 12 ("println")
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0f</span><span class="p">,</span>             <span class="c1"># descriptor_index: 15 ("(I)V")
# 0x11
</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x13</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 19 chars
</span><span class="mh">0x6A</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x76</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="c1"># "java"
</span><span class="mh">0x2F</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="mh">0x6F</span><span class="p">,</span> <span class="mh">0x2F</span><span class="p">,</span> <span class="c1"># "/io/"
</span><span class="mh">0x50</span><span class="p">,</span> <span class="mh">0x72</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="mh">0x6E</span><span class="p">,</span> <span class="c1"># "Prin"
</span><span class="mh">0x74</span><span class="p">,</span> <span class="mh">0x53</span><span class="p">,</span> <span class="mh">0x74</span><span class="p">,</span> <span class="mh">0x72</span><span class="p">,</span> <span class="c1"># "tStr"
</span><span class="mh">0x65</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x6D</span><span class="p">,</span>       <span class="c1"># "eam"</span></code></pre></figure>

<p>Your fingers are moving at an alarming pace. You know your own limits, but the interviewer appears to be getting increasingly uneasy at the suprisingly loud noises coming from the laptop’s rubber-domed keyboard.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># 0x12
</span><span class="mh">0x07</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x11</span><span class="p">,</span>       <span class="c1"># class "java/io/PrintStream"
# 0x13
</span><span class="mh">0x0a</span><span class="p">,</span>                   <span class="c1"># method reference
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x12</span><span class="p">,</span>             <span class="c1"># java/io/PrintStream class
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0e</span><span class="p">,</span>             <span class="c1"># name and type index
# 0x14
</span><span class="mh">0x0a</span><span class="p">,</span>                   <span class="c1"># method reference
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x12</span><span class="p">,</span>             <span class="c1"># java/io/PrintStream class
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x10</span><span class="p">,</span>             <span class="c1"># name and type index</span></code></pre></figure>

<p>“Oh, almost forgot to wrap the Strings.”</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># 0x15
</span><span class="mh">0x08</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x01</span><span class="p">,</span>       <span class="c1"># String "Fizz"
# 0x16
</span><span class="mh">0x08</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x02</span><span class="p">,</span>       <span class="c1"># String "Buzz"
# 0x17
</span><span class="mh">0x08</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x03</span><span class="p">,</span>       <span class="c1"># String "FizzBuzz"</span></code></pre></figure>

<p>“And our method signature for the final touch…”</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># 0x18
</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x03</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 3 chars
</span><span class="mh">0x28</span><span class="p">,</span> <span class="mh">0x29</span><span class="p">,</span> <span class="mh">0x56</span><span class="p">,</span>       <span class="c1"># "()V"
# CONSTANT POOL END</span></code></pre></figure>

<p>Now comes a simple, well-known series of bytes, designed by Sun to give the programmer a little breather.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x01</span><span class="p">,</span>             <span class="c1"># access_flags: public
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">,</span>             <span class="c1"># this_class: "Fizz"
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x12</span><span class="p">,</span>             <span class="c1"># super_class: "java/io/PrintStream"
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span>             <span class="c1"># interfaces_count: 0
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span>             <span class="c1"># fields_count: 0
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x01</span><span class="p">,</span>             <span class="c1"># methods_count: 1</span></code></pre></figure>

<p>You smirk at the superclass trick – your father had taught you not to be wasteful, and that any inheritable class will usually do. A classic tactic for any handwritten class file.</p>

<p>It is now time to lay the groundwork for the problem at hand. You do not waver, for all that you should ever need lies available to you in the constant pool.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># METHODS START
# 0x00
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x09</span><span class="p">,</span>             <span class="c1"># access_flags: public, static
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x03</span><span class="p">,</span>             <span class="c1"># name_index: 3 ("FizzBuzz")
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x18</span><span class="p">,</span>             <span class="c1"># descriptor_index: 24 ("()V")
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x01</span><span class="p">,</span>             <span class="c1"># attributes_count: 1
# METHOD ATTRIBUTES START
# 0x00
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x05</span><span class="p">,</span>             <span class="c1"># attribute_name_index: 5 ("Code")
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x5c</span><span class="p">,</span> <span class="c1"># attribute_length: 12 + code_length
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x02</span><span class="p">,</span>             <span class="c1"># max_stack: 2
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">,</span>             <span class="c1"># max_locals: 4
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x50</span><span class="p">,</span> <span class="c1"># code_length: 80</span></code></pre></figure>

<p>You have already envisioned the instructions in entirety. You could do the jump offset calculations in your sleep. All that remains is a swift barrage of keystrokes.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># CODE START
</span><span class="mh">0x03</span><span class="p">,</span>                   <span class="c1"># push 0 onto stack
</span><span class="mh">0x3b</span><span class="p">,</span>                   <span class="c1"># store into var 0
</span><span class="mh">0x11</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x64</span><span class="p">,</span>       <span class="c1"># push 100 onto stack
</span><span class="mh">0x3c</span><span class="p">,</span>                   <span class="c1"># store into var 1
</span>
<span class="c1"># loop header
</span><span class="mh">0x84</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x01</span><span class="p">,</span>       <span class="c1"># increment var 0
</span><span class="mh">0x1a</span><span class="p">,</span>                   <span class="c1"># push var 0 onto stack
</span><span class="mh">0x1b</span><span class="p">,</span>                   <span class="c1"># push var 1 onto stack
</span><span class="mh">0xa3</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x44</span><span class="p">,</span>       <span class="c1"># if var 0 &gt; var 1, jump 68 bytes
</span>
<span class="c1"># i mod 3
</span><span class="mh">0x1a</span><span class="p">,</span>                   <span class="c1"># push var 0 onto stack
</span><span class="mh">0x06</span><span class="p">,</span>                   <span class="c1"># push 3 onto stack
</span><span class="mh">0x70</span><span class="p">,</span>                   <span class="c1"># push var 0 mod 3 onto stack
</span><span class="mh">0x3d</span><span class="p">,</span>                   <span class="c1"># store result in var 2
</span>
<span class="c1"># i mod 5 
</span><span class="mh">0x1a</span><span class="p">,</span>                   <span class="c1"># push var 0 onto stack
</span><span class="mh">0x08</span><span class="p">,</span>                   <span class="c1"># push 5 onto stack
</span><span class="mh">0x70</span><span class="p">,</span>                   <span class="c1"># push var 0 mod 5 onto stack
</span><span class="mh">0x3e</span><span class="p">,</span>                   <span class="c1"># store result in var 3
</span>
<span class="c1"># FizzBuzz?
</span><span class="mh">0x1c</span><span class="p">,</span>                   <span class="c1"># push var 2 onto stack
</span><span class="mh">0x1d</span><span class="p">,</span>                   <span class="c1"># push var 3 onto stack
</span><span class="mh">0x60</span><span class="p">,</span>                   <span class="c1"># add results
</span><span class="mh">0x9a</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0e</span><span class="p">,</span>       <span class="c1"># if result != 0, jump 14 bytes
</span><span class="mh">0xb2</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0b</span><span class="p">,</span>       <span class="c1"># push System.out onto stack
</span><span class="mh">0x12</span><span class="p">,</span> <span class="mh">0x17</span><span class="p">,</span>             <span class="c1"># push "FizzBuzz" onto stack
</span><span class="mh">0xb6</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x13</span><span class="p">,</span>       <span class="c1"># call println(String)
</span><span class="mh">0xa7</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mh">0xe2</span><span class="p">,</span>       <span class="c1"># jump 30 bytes backward
</span>
<span class="c1"># Fizz?
</span><span class="mh">0x1c</span><span class="p">,</span>                   <span class="c1"># push var 2 onto stack
</span><span class="mh">0x9a</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0e</span><span class="p">,</span>       <span class="c1"># if result != 0, jump 14 bytes
</span><span class="mh">0xb2</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0b</span><span class="p">,</span>       <span class="c1"># push System.out onto stack
</span><span class="mh">0x12</span><span class="p">,</span> <span class="mh">0x15</span><span class="p">,</span>             <span class="c1"># push "Fizz" onto stack
</span><span class="mh">0xb6</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x13</span><span class="p">,</span>       <span class="c1"># call println(String)
</span><span class="mh">0xa7</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mh">0xd3</span><span class="p">,</span>       <span class="c1"># jump 45 bytes backward
</span>
<span class="c1"># Buzz?
</span><span class="mh">0x1d</span><span class="p">,</span>                   <span class="c1"># push var 3 onto stack
</span><span class="mh">0x9a</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0e</span><span class="p">,</span>       <span class="c1"># if result != 0, jump 14 bytes
</span><span class="mh">0xb2</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0b</span><span class="p">,</span>       <span class="c1"># push System.out onto stack
</span><span class="mh">0x12</span><span class="p">,</span> <span class="mh">0x16</span><span class="p">,</span>             <span class="c1"># push "Buzz" onto stack
</span><span class="mh">0xb6</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x13</span><span class="p">,</span>       <span class="c1"># call println(String)
</span><span class="mh">0xa7</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mh">0xc4</span><span class="p">,</span>       <span class="c1"># jump 60 bytes backward
</span>
<span class="c1"># None of the above!
</span><span class="mh">0xb2</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0b</span><span class="p">,</span>       <span class="c1"># push System.out onto stack
</span><span class="mh">0x1a</span><span class="p">,</span>                   <span class="c1"># push var 0 onto stack
</span><span class="mh">0xb6</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x14</span><span class="p">,</span>       <span class="c1"># call println(int)
</span><span class="mh">0xa7</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mh">0xba</span><span class="p">,</span>       <span class="c1"># jump 70 bytes backward
</span>
<span class="mh">0xb1</span><span class="p">,</span>                   <span class="c1"># return void
# CODE END</span></code></pre></figure>

<p>All great things, as section 4.1 of the Java Virtual Machine specification tells, must end with an attribute table definition.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span>             <span class="c1"># exception_table_length: 0
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span>             <span class="c1"># attributes_count: 0
# METHOD ATTRIBUTES END
# METHODS END
</span><span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span>              <span class="c1"># attributes_count: 0</span></code></pre></figure>

<p>You rest for a moment, for the class is done. It has all the handwritten love and care that you wouldn’t get from <code class="highlighter-rouge">javac</code>.</p>

<p>Your colleagues told you Python lacks support for Java classes. But you need not worry, for the power of Sun extends to many lands.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">java.lang.ClassLoader</span>
<span class="kn">import</span> <span class="nn">java.lang.String</span>
<span class="kn">from</span> <span class="nn">jarray</span> <span class="kn">import</span> <span class="n">array</span>
<span class="kn">from</span> <span class="nn">org.python.core.util</span> <span class="kn">import</span> <span class="n">StringUtil</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="n">cls</span> <span class="o">=</span> <span class="p">[</span>
        <span class="mh">0xca</span><span class="p">,</span> <span class="mh">0xfe</span><span class="p">,</span> <span class="mh">0xba</span><span class="p">,</span> <span class="mh">0xbe</span><span class="p">,</span> <span class="c1"># magic
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span>             <span class="c1"># minor
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x31</span><span class="p">,</span>             <span class="c1"># major
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x19</span><span class="p">,</span>             <span class="c1"># constant_pool_count: 25 (24 constants)
</span>        <span class="c1"># CONSTANT POOL START
</span>        <span class="c1"># 0x01
</span>        <span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 4 chars
</span>        <span class="mh">0x46</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="c1"># "Fizz"
</span>        <span class="c1"># 0x02
</span>        <span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 4 chars
</span>        <span class="mh">0x42</span><span class="p">,</span> <span class="mh">0x75</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="c1"># "Buzz"
</span>        <span class="c1"># 0x03
</span>        <span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x08</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 8 chars
</span>        <span class="mh">0x46</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="c1"># "Fizz"
</span>        <span class="mh">0x42</span><span class="p">,</span> <span class="mh">0x75</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="mh">0x7a</span><span class="p">,</span> <span class="c1"># "Buzz"
</span>        <span class="c1"># 0x04
</span>        <span class="mh">0x07</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x03</span><span class="p">,</span>       <span class="c1"># class "FizzBuzz"
</span>        <span class="c1"># 0x05
</span>        <span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 4 chars
</span>        <span class="mh">0x43</span><span class="p">,</span> <span class="mh">0x6f</span><span class="p">,</span> <span class="mh">0x64</span><span class="p">,</span> <span class="mh">0x65</span><span class="p">,</span> <span class="c1"># "Code"
</span>        <span class="c1"># 0x06
</span>        <span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x10</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 16 chars
</span>        <span class="mh">0x6a</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x76</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="c1"># "java"
</span>        <span class="mh">0x2f</span><span class="p">,</span> <span class="mh">0x6c</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x6e</span><span class="p">,</span> <span class="c1"># "/lan"
</span>        <span class="mh">0x67</span><span class="p">,</span> <span class="mh">0x2f</span><span class="p">,</span> <span class="mh">0x53</span><span class="p">,</span> <span class="mh">0x79</span><span class="p">,</span> <span class="c1"># "g/Sy"
</span>        <span class="mh">0x73</span><span class="p">,</span> <span class="mh">0x74</span><span class="p">,</span> <span class="mh">0x65</span><span class="p">,</span> <span class="mh">0x6d</span><span class="p">,</span> <span class="c1"># "stem"
</span>        <span class="c1"># 0x07
</span>        <span class="mh">0x07</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x06</span><span class="p">,</span>       <span class="c1"># class "java/lang/System"
</span>        <span class="c1"># 0x08
</span>        <span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x03</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 3 chars
</span>        <span class="mh">0x6f</span><span class="p">,</span> <span class="mh">0x75</span><span class="p">,</span> <span class="mh">0x74</span><span class="p">,</span>       <span class="c1"># "out"
</span>        <span class="c1"># 0x09
</span>        <span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x15</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 21 chars
</span>        <span class="mh">0x4c</span><span class="p">,</span> <span class="mh">0x6a</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x76</span><span class="p">,</span> <span class="c1"># "Ljav"
</span>        <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x2f</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="mh">0x6f</span><span class="p">,</span> <span class="c1"># "a/io"
</span>        <span class="mh">0x2f</span><span class="p">,</span> <span class="mh">0x50</span><span class="p">,</span> <span class="mh">0x72</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="c1"># "/Pri"
</span>        <span class="mh">0x6e</span><span class="p">,</span> <span class="mh">0x74</span><span class="p">,</span> <span class="mh">0x53</span><span class="p">,</span> <span class="mh">0x74</span><span class="p">,</span> <span class="c1"># "ntSt"
</span>        <span class="mh">0x72</span><span class="p">,</span> <span class="mh">0x65</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x6d</span><span class="p">,</span> <span class="c1"># "ream"
</span>        <span class="mh">0x3b</span><span class="p">,</span>                   <span class="c1"># ";"
</span>        <span class="c1"># 0x0a
</span>        <span class="mh">0x0c</span><span class="p">,</span>                   <span class="c1"># name and type
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x08</span><span class="p">,</span>             <span class="c1"># name_index: 8 ("out")
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x09</span><span class="p">,</span>             <span class="c1"># descriptor_index: 9 ("Ljava/io/PrintStream;")
</span>        <span class="c1"># 0x0b
</span>        <span class="mh">0x09</span><span class="p">,</span>                   <span class="c1"># field reference
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x07</span><span class="p">,</span>             <span class="c1"># java/lang/System class
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0a</span><span class="p">,</span>             <span class="c1"># name and type index
</span>        <span class="c1"># 0x0c
</span>        <span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x07</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 7 chars
</span>        <span class="mh">0x70</span><span class="p">,</span> <span class="mh">0x72</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="mh">0x6e</span><span class="p">,</span> <span class="c1"># "prin"
</span>        <span class="mh">0x74</span><span class="p">,</span> <span class="mh">0x6c</span><span class="p">,</span> <span class="mh">0x6e</span><span class="p">,</span>       <span class="c1"># "tln"
</span>        <span class="c1"># 0x0d
</span>        <span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x15</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 21 chars
</span>        <span class="mh">0x28</span><span class="p">,</span> <span class="mh">0x4c</span><span class="p">,</span> <span class="mh">0x6a</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="c1"># "(Lja"
</span>        <span class="mh">0x76</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x2f</span><span class="p">,</span> <span class="mh">0x6c</span><span class="p">,</span> <span class="c1"># "va/l"
</span>        <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x6e</span><span class="p">,</span> <span class="mh">0x67</span><span class="p">,</span> <span class="mh">0x2f</span><span class="p">,</span> <span class="c1"># "ang/"
</span>        <span class="mh">0x53</span><span class="p">,</span> <span class="mh">0x74</span><span class="p">,</span> <span class="mh">0x72</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="c1"># "Stri"
</span>        <span class="mh">0x6e</span><span class="p">,</span> <span class="mh">0x67</span><span class="p">,</span> <span class="mh">0x3b</span><span class="p">,</span> <span class="mh">0x29</span><span class="p">,</span> <span class="c1"># "ng;)"
</span>        <span class="mh">0x56</span><span class="p">,</span>                   <span class="c1"># "V"
</span>        <span class="c1"># 0x0e
</span>        <span class="mh">0x0c</span><span class="p">,</span>                   <span class="c1"># name and type
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0c</span><span class="p">,</span>             <span class="c1"># name_index: 12 ("println")
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0d</span><span class="p">,</span>             <span class="c1"># descriptor_index: 13 ("(Ljava/lang/String;)V")
</span>        <span class="c1"># 0x0f
</span>        <span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 4 chars
</span>        <span class="mh">0x28</span><span class="p">,</span> <span class="mh">0x49</span><span class="p">,</span> <span class="mh">0x29</span><span class="p">,</span> <span class="mh">0x56</span><span class="p">,</span> <span class="c1"># "(I)V"
</span>        <span class="c1"># 0x10
</span>        <span class="mh">0x0c</span><span class="p">,</span>                   <span class="c1"># name and type
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0c</span><span class="p">,</span>             <span class="c1"># name_index: 12 ("println")
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0f</span><span class="p">,</span>             <span class="c1"># descriptor_index: 15 ("(I)V")
</span>        <span class="c1"># 0x11
</span>        <span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x13</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 19 chars
</span>        <span class="mh">0x6A</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x76</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="c1"># "java"
</span>        <span class="mh">0x2F</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="mh">0x6F</span><span class="p">,</span> <span class="mh">0x2F</span><span class="p">,</span> <span class="c1"># "/io/"
</span>        <span class="mh">0x50</span><span class="p">,</span> <span class="mh">0x72</span><span class="p">,</span> <span class="mh">0x69</span><span class="p">,</span> <span class="mh">0x6E</span><span class="p">,</span> <span class="c1"># "Prin"
</span>        <span class="mh">0x74</span><span class="p">,</span> <span class="mh">0x53</span><span class="p">,</span> <span class="mh">0x74</span><span class="p">,</span> <span class="mh">0x72</span><span class="p">,</span> <span class="c1"># "tStr"
</span>        <span class="mh">0x65</span><span class="p">,</span> <span class="mh">0x61</span><span class="p">,</span> <span class="mh">0x6D</span><span class="p">,</span>       <span class="c1"># "eam"
</span>        <span class="c1"># 0x12
</span>        <span class="mh">0x07</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x11</span><span class="p">,</span>       <span class="c1"># class "java/io/PrintStream"
</span>        <span class="c1"># 0x13
</span>        <span class="mh">0x0a</span><span class="p">,</span>                   <span class="c1"># method reference
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x12</span><span class="p">,</span>             <span class="c1"># java/io/PrintStream class
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0e</span><span class="p">,</span>             <span class="c1"># name and type index
</span>        <span class="c1"># 0x14
</span>        <span class="mh">0x0a</span><span class="p">,</span>                   <span class="c1"># method reference
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x12</span><span class="p">,</span>             <span class="c1"># java/io/PrintStream class
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x10</span><span class="p">,</span>             <span class="c1"># name and type index
</span>        <span class="c1"># 0x15
</span>        <span class="mh">0x08</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x01</span><span class="p">,</span>       <span class="c1"># String "Fizz"
</span>        <span class="c1"># 0x16
</span>        <span class="mh">0x08</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x02</span><span class="p">,</span>       <span class="c1"># String "Buzz"
</span>        <span class="c1"># 0x17
</span>        <span class="mh">0x08</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x03</span><span class="p">,</span>       <span class="c1"># String "FizzBuzz"
</span>        <span class="c1"># 0x18
</span>        <span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x03</span><span class="p">,</span>       <span class="c1"># UTF-8 string, 3 chars
</span>        <span class="mh">0x28</span><span class="p">,</span> <span class="mh">0x29</span><span class="p">,</span> <span class="mh">0x56</span><span class="p">,</span>       <span class="c1"># "()V"
</span>        <span class="c1"># CONSTANT POOL END
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x01</span><span class="p">,</span>             <span class="c1"># access_flags: public
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">,</span>             <span class="c1"># this_class: "Fizz"
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x12</span><span class="p">,</span>             <span class="c1"># super_class: "java/io/PrintStream"
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span>             <span class="c1"># interfaces_count: 0
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span>             <span class="c1"># fields_count: 0
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x01</span><span class="p">,</span>             <span class="c1"># methods_count: 1
</span>        <span class="c1"># METHODS START
</span>        <span class="c1"># 0x00
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x09</span><span class="p">,</span>             <span class="c1"># access_flags: public, static
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x03</span><span class="p">,</span>             <span class="c1"># name_index: 3 ("FizzBuzz")
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x18</span><span class="p">,</span>             <span class="c1"># descriptor_index: 24 ("()V")
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x01</span><span class="p">,</span>             <span class="c1"># attributes_count: 1
</span>        <span class="c1"># METHOD ATTRIBUTES START
</span>        <span class="c1"># 0x00
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x05</span><span class="p">,</span>             <span class="c1"># attribute_name_index: 5 ("Code")
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x5c</span><span class="p">,</span> <span class="c1"># attribute_length: 12 + code_length
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x02</span><span class="p">,</span>             <span class="c1"># max_stack: 2
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">,</span>             <span class="c1"># max_locals: 4
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x50</span><span class="p">,</span> <span class="c1"># code_length: 80
</span>        <span class="c1"># CODE START
</span>        <span class="mh">0x03</span><span class="p">,</span>                   <span class="c1"># push 0 onto stack
</span>        <span class="mh">0x3b</span><span class="p">,</span>                   <span class="c1"># store into var 0
</span>        <span class="mh">0x11</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x64</span><span class="p">,</span>       <span class="c1"># push 100 onto stack
</span>        <span class="mh">0x3c</span><span class="p">,</span>                   <span class="c1"># store into var 1
</span>
        <span class="c1"># loop header
</span>        <span class="mh">0x84</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x01</span><span class="p">,</span>       <span class="c1"># increment var 0
</span>        <span class="mh">0x1a</span><span class="p">,</span>                   <span class="c1"># push var 0 onto stack
</span>        <span class="mh">0x1b</span><span class="p">,</span>                   <span class="c1"># push var 1 onto stack
</span>        <span class="mh">0xa3</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x44</span><span class="p">,</span>       <span class="c1"># if var 0 &gt; var 1, jump 68 bytes
</span>
        <span class="c1"># i mod 3
</span>        <span class="mh">0x1a</span><span class="p">,</span>                   <span class="c1"># push var 0 onto stack
</span>        <span class="mh">0x06</span><span class="p">,</span>                   <span class="c1"># push 3 onto stack
</span>        <span class="mh">0x70</span><span class="p">,</span>                   <span class="c1"># push var 0 mod 3 onto stack
</span>        <span class="mh">0x3d</span><span class="p">,</span>                   <span class="c1"># store result in var 2
</span>
        <span class="c1"># i mod 5
</span>        <span class="mh">0x1a</span><span class="p">,</span>                   <span class="c1"># push var 0 onto stack
</span>        <span class="mh">0x08</span><span class="p">,</span>                   <span class="c1"># push 5 onto stack
</span>        <span class="mh">0x70</span><span class="p">,</span>                   <span class="c1"># push var 0 mod 5 onto stack
</span>        <span class="mh">0x3e</span><span class="p">,</span>                   <span class="c1"># store result in var 3
</span>
        <span class="c1"># FizzBuzz?
</span>        <span class="mh">0x1c</span><span class="p">,</span>                   <span class="c1"># push var 2 onto stack
</span>        <span class="mh">0x1d</span><span class="p">,</span>                   <span class="c1"># push var 3 onto stack
</span>        <span class="mh">0x60</span><span class="p">,</span>                   <span class="c1"># add results
</span>        <span class="mh">0x9a</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0e</span><span class="p">,</span>       <span class="c1"># if result != 0, jump 14 bytes
</span>        <span class="mh">0xb2</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0b</span><span class="p">,</span>       <span class="c1"># push System.out onto stack
</span>        <span class="mh">0x12</span><span class="p">,</span> <span class="mh">0x17</span><span class="p">,</span>             <span class="c1"># push "FizzBuzz" onto stack
</span>        <span class="mh">0xb6</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x13</span><span class="p">,</span>       <span class="c1"># call println(String)
</span>        <span class="mh">0xa7</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mh">0xe2</span><span class="p">,</span>       <span class="c1"># jump 30 bytes backward
</span>
        <span class="c1"># Fizz?
</span>        <span class="mh">0x1c</span><span class="p">,</span>                   <span class="c1"># push var 2 onto stack
</span>        <span class="mh">0x9a</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0e</span><span class="p">,</span>       <span class="c1"># if result != 0, jump 14 bytes
</span>        <span class="mh">0xb2</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0b</span><span class="p">,</span>       <span class="c1"># push System.out onto stack
</span>        <span class="mh">0x12</span><span class="p">,</span> <span class="mh">0x15</span><span class="p">,</span>             <span class="c1"># push "Fizz" onto stack
</span>        <span class="mh">0xb6</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x13</span><span class="p">,</span>       <span class="c1"># call println(String)
</span>        <span class="mh">0xa7</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mh">0xd3</span><span class="p">,</span>       <span class="c1"># jump 45 bytes backward
</span>
        <span class="c1"># Buzz?
</span>        <span class="mh">0x1d</span><span class="p">,</span>                   <span class="c1"># push var 3 onto stack
</span>        <span class="mh">0x9a</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0e</span><span class="p">,</span>       <span class="c1"># if result != 0, jump 14 bytes
</span>        <span class="mh">0xb2</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0b</span><span class="p">,</span>       <span class="c1"># push System.out onto stack
</span>        <span class="mh">0x12</span><span class="p">,</span> <span class="mh">0x16</span><span class="p">,</span>             <span class="c1"># push "Buzz" onto stack
</span>        <span class="mh">0xb6</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x13</span><span class="p">,</span>       <span class="c1"># call println(String)
</span>        <span class="mh">0xa7</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mh">0xc4</span><span class="p">,</span>       <span class="c1"># jump 60 bytes backward
</span>
        <span class="c1"># None of the above!
</span>        <span class="mh">0xb2</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x0b</span><span class="p">,</span>       <span class="c1"># push System.out onto stack
</span>        <span class="mh">0x1a</span><span class="p">,</span>                   <span class="c1"># push var 0 onto stack
</span>        <span class="mh">0xb6</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x14</span><span class="p">,</span>       <span class="c1"># call println(int)
</span>        <span class="mh">0xa7</span><span class="p">,</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mh">0xba</span><span class="p">,</span>       <span class="c1"># jump 70 bytes backward
</span>
        <span class="mh">0xb1</span><span class="p">,</span>                   <span class="c1"># return void
</span>        <span class="c1"># CODE END
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span>             <span class="c1"># exception_table_length: 0
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span>             <span class="c1"># attributes_count: 0
</span>        <span class="c1"># METHOD ATTRIBUTES END
</span>        <span class="c1"># METHODS END
</span>        <span class="mh">0x00</span><span class="p">,</span> <span class="mh">0x00</span>              <span class="c1"># attributes_count: 0
</span>    <span class="p">]</span>

    <span class="n">c</span> <span class="o">=</span> <span class="n">StringUtil</span><span class="o">.</span><span class="n">toBytes</span><span class="p">(</span><span class="n">java</span><span class="o">.</span><span class="n">lang</span><span class="o">.</span><span class="n">String</span><span class="p">([</span><span class="nb">chr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">cls</span><span class="p">]))</span>

    <span class="k">class</span> <span class="nc">BCL</span><span class="p">(</span><span class="n">java</span><span class="o">.</span><span class="n">lang</span><span class="o">.</span><span class="n">ClassLoader</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bs</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">super__defineClass</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">bs</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">bs</span><span class="p">))</span>

    <span class="n">BCL</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">"FizzBuzz"</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">getMethod</span><span class="p">(</span><span class="s">"FizzBuzz"</span><span class="p">)</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span>
    <span class="n">main</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code></pre></figure>

<p>You mentally thank the good people of Jython, and turn your laptop towards the interviewer. Seeming to have been contemplating something a bit unpleasant, he snaps back to reality. He glances at the code on your screen.</p>

<p>“O-oh. Right, you’re finished?”</p>

<p>His eyes scan the lines from top to bottom. A look of deep unsettlement begins to show.</p>

<p>“What… what is all this for exactly?” He mutters under his breath, seeming to direct the question at himself rather than you.</p>

<p>“Just some standard Java interop. Using a custom classloader is more efficient here.”</p>

<p>You lean over and type a line into the console.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jython fizzbuzz.py
</code></pre></div></div>

<p>You are greeted back by a pleasant stream of data.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1
2
Fizz
4
Buzz
Fizz
7
8
Fizz
Buzz
11
Fizz
13
14
FizzBuzz
16
17
Fizz
19
Buzz
...
</code></pre></div></div>

<p>The interview does not continue long afterwards. The interviewer leaves the room and a different man comes to escort you out. They will be in touch.</p>

  </div><a class="u-url" href="/blog/programming/python/2019/05/28/python-for-java-developers-fizz-buzz.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">frublox blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">frublox blog</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/frublox"><svg class="svg-icon"><use xlink:href="/blog/assets/minima-social-icons.svg#github"></use></svg> <span class="username">frublox</span></a></li><li><a href="https://www.twitter.com/frublox"><svg class="svg-icon"><use xlink:href="/blog/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">frublox</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>small blog about programming/tech/other</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
